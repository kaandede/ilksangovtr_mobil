<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ilksangovtr_mobil.Views.SosyalYardimlar"
             xmlns:dx="http://schemas.devexpress.com/maui"
             xmlns:models="clr-namespace:ilksangovtr_mobil.Models"
             x:DataType="models:AnaSayfaViewModel"
             xmlns:local="clr-namespace:ilksangovtr_mobil"
             BackgroundColor="#fff">

    <ContentPage.BindingContext>
        <models:AnaSayfaViewModel/>
    </ContentPage.BindingContext>

    <Shell.TitleView>
        <Grid ColumnDefinitions="Auto,*" 
            Padding="0,0" 
            BackgroundColor="Transparent">
            <Label Text="Sosyal Yardım"
         Grid.Column="0"
         FontFamily="NexaHeavy"
        VerticalOptions="CenterAndExpand"/>

        </Grid>
    </Shell.TitleView>

    <Grid>
        <Grid VerticalOptions="StartAndExpand" Margin="0,0,0,0" HorizontalOptions="CenterAndExpand">
            <Grid>
                <dx:TabView
                 HeaderPanelPadding="0"
                 ItemHeaderWidth="Auto"
                 IsSelectedItemIndicatorVisible="True" 
                 SelectedItemIndicatorColor="#0D7561"
                 HeaderPanelPosition="Top"
                 SelectedItemIndicatorHeight="5"
                 Margin="0,0,0,0"
                 ItemHeaderPadding="10"
                 HeaderPanelBackgroundColor="#fff">
                    <dx:TabViewItem>
                        <dx:TabViewItem.HeaderContent>
                            <VerticalStackLayout HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand" Spacing="4" >
                                <Label Text="Başvurularım"
                              FontSize="14"
                              FontFamily="NexaHeavy"
                              TextColor="#20322F" 
                              HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </dx:TabViewItem.HeaderContent>

                        <dx:TabViewItem.Content>
                            <Grid Margin="10,5,10,0" VerticalOptions="CenterAndExpand" HorizontalOptions="CenterAndExpand">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Border Grid.Row="0" BackgroundColor="Transparent" Margin="10" Padding="0" VerticalOptions="CenterAndExpand" HorizontalOptions="CenterAndExpand" Stroke="Transparent" StrokeShape="RoundRectangle 0">
                                    <dx:DataGridView IsVerticalScrollBarVisible="False" IsHorizontalScrollBarVisible="False" BackgroundColor="#fff" BorderColor="#F3F7F6" ItemsSource="{Binding SosyalYardimBasvurulars}" AllowDragDropRows="True" EditorShowMode="DoubleTap">
                                        <dx:DataGridView.Columns>
                                            <dx:TemplateColumn IsReadOnly="true" HeaderBackgroundColor="#fff" HeaderBorderColor="#ddd" VerticalContentAlignment="Center" MinWidth="120" HeaderFontFamily="NexaHeavy" HeaderFontSize="12" FieldName="YTUR_ADI" Caption="Yardım Adı"></dx:TemplateColumn>
                                            <dx:TemplateColumn IsReadOnly="true" HeaderBackgroundColor="#fff" HeaderBorderColor="#ddd" VerticalContentAlignment="Center" MinWidth="120" HeaderFontFamily="NexaHeavy" HeaderFontSize="12" FieldName="YBASDUR_AD" Caption="Durumu"></dx:TemplateColumn>
                                            <dx:TemplateColumn IsReadOnly="true" HeaderBackgroundColor="#fff" HeaderBorderColor="#ddd" VerticalContentAlignment="Center" MinWidth="120" HeaderFontFamily="NexaHeavy" HeaderFontSize="12" FieldName="YBAS_KAYITTARIHI" Caption="Kayıt Tarihi"></dx:TemplateColumn>
                                            <dx:TemplateColumn IsReadOnly="true" HeaderBackgroundColor="#fff" HeaderBorderColor="#ddd" VerticalContentAlignment="Center" MinWidth="90" HeaderFontFamily="NexaHeavy" HeaderFontSize="12"  Caption="İşlem"></dx:TemplateColumn>
                                        </dx:DataGridView.Columns>
                                    </dx:DataGridView>
                                </Border>
                                <Border Grid.Row="1" BackgroundColor="Transparent" Margin="10" Padding="10" VerticalOptions="EndAndExpand" HorizontalOptions="CenterAndExpand" Stroke="Transparent" StrokeShape="RoundRectangle 0">
                                    <Grid>
                                        <StackLayout Margin="0,0,0,0" Orientation="Horizontal" HorizontalOptions="CenterAndExpand">
                                            <Border 
                                          Stroke="Transparent" 
                                          BackgroundColor="Transparent" 
                                          StrokeShape="RoundRectangle 30" 
                                          Padding="10"
                                          VerticalOptions="CenterAndExpand"
                                          HorizontalOptions="CenterAndExpand">
                                                <Border.Shadow>
                                                    <Shadow Brush="#687072" Offset="5,5" Radius="10" Opacity="0.2"/>
                                                </Border.Shadow>
                                                <ImageButton Source="plus.png"
                                              VerticalOptions="CenterAndExpand"
                                              HorizontalOptions="CenterAndExpand"
                                              Clicked="YeniSosyalYardim"
                                              HeightRequest="40"
                                              WidthRequest="40"/>
                                            </Border>
                                        </StackLayout>
                                    </Grid>
                                </Border>

                            </Grid>
                        </dx:TabViewItem.Content>
                    </dx:TabViewItem>


                    <dx:TabViewItem>
                        <dx:TabViewItem.HeaderContent>
                            <VerticalStackLayout HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand"  Spacing="4" >
                                <Label Text="Bilgilerim"
                         FontSize="14"
                         FontFamily="NexaHeavy"
                         TextColor="#20322F" 
                         HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </dx:TabViewItem.HeaderContent>
                        <dx:TabViewItem.Content>
                            <Grid Margin="10,5,10,0" VerticalOptions="CenterAndExpand" HorizontalOptions="CenterAndExpand">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Border Grid.Row="0" BackgroundColor="Transparent" Margin="10" Padding="0" VerticalOptions="CenterAndExpand" HorizontalOptions="CenterAndExpand" Stroke="Transparent" StrokeShape="RoundRectangle 0">
                                    <dx:DataGridView IsHorizontalScrollBarVisible="False" IsVerticalScrollBarVisible="False" BackgroundColor="#fff" BorderColor="#F3F7F6" ItemsSource="{Binding SosyalYardimBilgilerims}" AllowDragDropRows="True" EditorShowMode="DoubleTap">
                                        <dx:DataGridView.Columns>
                                            <dx:TemplateColumn IsReadOnly="true" HeaderBackgroundColor="#fff" HeaderBorderColor="#ddd" VerticalContentAlignment="Center" MinWidth="130" HeaderFontFamily="NexaHeavy" HeaderFontSize="12" FieldName="U_TCKIMLIKNO" Caption="TC No"></dx:TemplateColumn>
                                            <dx:TemplateColumn IsReadOnly="true" HeaderBackgroundColor="#fff" HeaderBorderColor="#ddd" VerticalContentAlignment="Center" MinWidth="120" HeaderFontFamily="NexaHeavy" HeaderFontSize="12" FieldName="YTUR_ADI" Caption="Yardım Adı"></dx:TemplateColumn>
                                            <dx:TemplateColumn IsReadOnly="true" HeaderBackgroundColor="#fff" HeaderBorderColor="#ddd" VerticalContentAlignment="Center" MinWidth="120" HeaderFontFamily="NexaHeavy" HeaderFontSize="12" FieldName="YBO_YARDIMMIKTARI" Caption="Miktar"></dx:TemplateColumn>
                                            <dx:TemplateColumn IsReadOnly="true" HeaderBackgroundColor="#fff" HeaderBorderColor="#ddd" VerticalContentAlignment="Center" MinWidth="90" HeaderFontFamily="NexaHeavy" HeaderFontSize="12"  FieldName="YKID_ADI" Caption="Durumu"></dx:TemplateColumn>
                                            <dx:TemplateColumn IsReadOnly="true" HeaderBackgroundColor="#fff" HeaderBorderColor="#ddd" VerticalContentAlignment="Center" MinWidth="90" HeaderFontFamily="NexaHeavy" HeaderFontSize="12"  Caption="Detay"></dx:TemplateColumn>
                                        </dx:DataGridView.Columns>
                                    </dx:DataGridView>
                                </Border>

                            </Grid>
                        </dx:TabViewItem.Content>
                    </dx:TabViewItem>



                    <dx:TabViewItem>
                        <dx:TabViewItem.HeaderContent>
                            <VerticalStackLayout HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand"  Spacing="4">
                                <Label Text="Hesaplama"
                               FontSize="14"
                               FontFamily="NexaHeavy"
                               TextColor="#20322F" 
                               HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </dx:TabViewItem.HeaderContent>
                        <dx:TabViewItem.Content>
                            <Grid Margin="10,5,10,0" VerticalOptions="StartAndExpand" HorizontalOptions="CenterAndExpand">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Border Grid.Row="0" MinimumWidthRequest="350" BackgroundColor="#fff" Margin="10" Padding="10" VerticalOptions="StartAndExpand" HorizontalOptions="CenterAndExpand" Stroke="Transparent" StrokeShape="RoundRectangle 20">
                                    <Border.Shadow>
                                        <Shadow Brush="#565558" Offset="5,5" Radius="30" Opacity="0.2"/>
                                    </Border.Shadow>
                                    <Grid >

                                        <Picker x:Name="myPicker" 
                                            Grid.Column="1"
                                            WidthRequest="300"
                                            Title="Yardım Türü"
                                            Margin="0,0,0,0"
                                            HorizontalOptions="CenterAndExpand"
                                            VerticalOptions="CenterAndExpand"
                                            HorizontalTextAlignment="Start"
                                            FontFamily="NexaHeavy"
                                            SelectedIndexChanged="OnPickerSelectedIndexChanged"
                                            BackgroundColor="White"
                                            TextColor="#565558">

                                            <Picker.ItemsSource>
                                                <x:Array Type="{x:Type x:String}">
                                                    <x:String>Aidat İadesi</x:String>
                                                    <x:String>Emekli Yardımı</x:String>
                                                    <x:String>Maluliyet Yardımı</x:String>
                                                    <x:String>Ölüm Yardımı</x:String>
                                                </x:Array>
                                            </Picker.ItemsSource>
                                        </Picker>

                                        <Image Source="asagi.png" 
                                                   WidthRequest="20" 
                                                   HeightRequest="20" 
                                                   VerticalOptions="Center" 
                                                   HorizontalOptions="End" 
                                                   Grid.Column="1"
                                                   Margin="10,0"/>

                                    </Grid>


                                </Border>
                                <Border Grid.Row="1" MinimumWidthRequest="350" BackgroundColor="#fff" Margin="10" Padding="10" VerticalOptions="StartAndExpand" HorizontalOptions="CenterAndExpand" Stroke="Transparent" StrokeShape="RoundRectangle 20">
                                    <Border.Shadow>
                                        <Shadow Brush="#565558" Offset="5,5" Radius="30" Opacity="0.2"/>
                                    </Border.Shadow>
                                    <Grid>
                                        <Entry Placeholder="Net Üyelik Süresi (Yıl) Olarak Giriniz..." PlaceholderColor="#565558" TextColor="#565558" FontFamily="NexaHeavy" VerticalOptions="Center" HorizontalOptions="FillAndExpand" Margin="15,5,20,5"/>
                                    </Grid>
                                </Border>
                                <Border Grid.Row="2" BackgroundColor="Transparent" Margin="0,0,0,10" Padding="0" VerticalOptions="EndAndExpand" HorizontalOptions="CenterAndExpand" Stroke="Transparent" StrokeShape="RoundRectangle 0">

                                    <Frame BorderColor="Transparent" BackgroundColor="#F3F6FF" CornerRadius="10" Padding="0">
                                        <StackLayout Orientation="Horizontal" HorizontalOptions="Center">
                                            <Button Text="Hesapla" 
                                    FontFamily="NexaLight"
                                    FontAttributes="Bold"
                                    FontSize="14"
                                    ImageSource="hesapla.png"
                                    BackgroundColor="#0D7561"
                                    TextColor="#fff"
                                    HeightRequest="40"
                                    Margin="0,0"/>

                                        </StackLayout>
                                    </Frame>
                                </Border>
                                <Border Grid.Row="3" MinimumWidthRequest="350" BackgroundColor="#fff" Margin="10" Padding="10" VerticalOptions="StartAndExpand" HorizontalOptions="CenterAndExpand" Stroke="Transparent" StrokeShape="RoundRectangle 20">
                                    <Border.Shadow>
                                        <Shadow Brush="#565558" Offset="5,5" Radius="30" Opacity="0.2"/>
                                    </Border.Shadow>
                                    <Grid>
                                        <Label Grid.Row="0" Margin="10"
                                        Grid.Column="0"
                                        FontSize="14"
                                        FontFamily="NexaHeavy"
                                        HorizontalOptions="StartAndExpand"
                                        Text="Takriben 27.639,50 TL Tutarında yardım hesaplaması yapılmıştır. 
                                        Hesaplamalar beyan edilen bilgilerinize istinaden farazi yapılmış olup, ödenecek meblağın net miktarı (yapılacak kesintilerden sonraki miktar) Genel Müdürlüğümüze yapılacak olan başvurunuz neticesinde kesinleşecektir."
                                        HorizontalTextAlignment="Start"
                                        TextColor="#2F2F2F"
                                        VerticalOptions="CenterAndExpand" />

                                    </Grid>
                                </Border>
                                <Border Grid.Row="4" MinimumWidthRequest="350" BackgroundColor="#fff" Margin="10,10,10,15" Padding="10" VerticalOptions="StartAndExpand" HorizontalOptions="CenterAndExpand" Stroke="Transparent" StrokeShape="RoundRectangle 20">
                                    <Border.Shadow>
                                        <Shadow Brush="#565558" Offset="5,5" Radius="30" Opacity="0.2"/>
                                    </Border.Shadow>
                                    <Grid>
                                        <ScrollView VerticalScrollBarVisibility="Never">
                                            <StackLayout Padding="0">
                                                <Label Margin="5"
                                                 FontSize="14"
                                                 FontFamily="NexaHeavy"
                                                 HorizontalOptions="StartAndExpand"
                                                 Text="Aidat İadesi yardımı;"
                                                 HorizontalTextAlignment="Start"
                                                 TextColor="#2F2F2F"
                                                 VerticalOptions="CenterAndExpand" />
                                                <Label Text="Üyelik sürelerine bakılmaksızın;"
                                                 Margin="5"
                                                 FontSize="14"
                                                 FontFamily="NexaHeavy"
                                                 HorizontalOptions="StartAndExpand" 
                                                 HorizontalTextAlignment="Start"
                                                 TextColor="#2F2F2F"
                                                 VerticalOptions="CenterAndExpand"/>
                                                <Label Text="a) Sandık üyesi iken üyelikleri sona erenlere,"
                                                 Margin="5"
                                                 FontSize="14"
                                                 FontFamily="NexaHeavy"
                                                 HorizontalOptions="StartAndExpand" 
                                                 HorizontalTextAlignment="Start"
                                                 TextColor="#2F2F2F"
                                                 VerticalOptions="CenterAndExpand"/>
                                                <Label Text="b) Emekli olduğu tarihte 120 ayını doldurmamış olanlara,"
                                                Margin="5"
                                                FontSize="14"
                                                FontFamily="NexaHeavy"
                                                HorizontalOptions="StartAndExpand" 
                                                HorizontalTextAlignment="Start"
                                                TextColor="#2F2F2F"
                                                VerticalOptions="CenterAndExpand"/>
                                                <Label Text="c) Üyelik kapsamında iken, Sandığa en az 120 ay aidat ödemiş olanlardan, herhangi bir nedenle üyeliği sona erenlere talep etmeleri halinde,"
                                                 Margin="5"
                                                 FontSize="14"
                                                 FontFamily="NexaHeavy"
                                                 HorizontalOptions="StartAndExpand" 
                                                 HorizontalTextAlignment="Start"
                                                 TextColor="#2F2F2F"
                                                 VerticalOptions="CenterAndExpand"/>
                                                <Label Text="ç) Sandıktan emekli yardımı almış olup, tekrar üyelik kapsamında bir göreve dönenlere, ödemiş oldukları aidatları, ödendiği tarihler dikkate alınarak yasal faizi ile birlikte kendilerine iade edilir, ayrıca emekli yardımı ödemesi yapılmaz."
                                                 Margin="5"
                                                 FontSize="14"
                                                 FontFamily="NexaHeavy"
                                                 HorizontalOptions="StartAndExpand" 
                                                 HorizontalTextAlignment="Start"
                                                 TextColor="#2F2F2F"
                                                 VerticalOptions="CenterAndExpand"/>
                                            </StackLayout>
                                        </ScrollView>


                                    </Grid>

                                </Border>
                            </Grid>
                        </dx:TabViewItem.Content>

                    </dx:TabViewItem>
                </dx:TabView>
            </Grid>
        </Grid>
    </Grid>
</ContentPage>